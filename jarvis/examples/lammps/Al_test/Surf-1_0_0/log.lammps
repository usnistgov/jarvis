LAMMPS (19 Oct 2016)
include inelast.mod
# Compute elastic constant tensor for a crystal
#
# Written by Aidan Thompson (Sandia, athomps@sandia.gov)
#
#  This script uses the following three include files.
#
#   init.mod      (must be modified for different crystal structures)
# 	       	  Define units, deformation parameters and initial
#		  configuration of the atoms and simulation cell.
#
#
#   potential.mod    (must be modified for different pair styles)
# 		     Define pair style and other attributes
#		     not stored in restart file
#
#
#   displace.mod    (displace.mod should not need to be modified)
# 		    Perform positive and negative box displacements
# 		    in direction ${dir} and size ${up}.
# 		    It uses the resultant changes
#		    in stress to compute one
# 		    row of the elastic stiffness tensor
#
#		    Inputs variables:
#		    	   dir = the Voigt deformation component
#		    		    (1,2,3,4,5,6)
#		    Global constants:
#       	    	   up = the deformation magnitude (strain units)
#       		   cfac = conversion from LAMMPS pressure units to
#               	   output units for elastic constants
#
#
#  To run this on a different system, it should only be necessary to
#  modify the files init.mod and potential.mod. In order to calculate
#  the elastic constants correctly, care must be taken to specify
#  the correct units in init.mod (units, cfac and cunits). It is also
#  important to verify that the minimization of energy w.r.t atom
#  positions in the deformed cell is fully converged.
#  One indication of this is that the elastic constants are insensitive
#  to the choice of the variable ${up} in init.mod. Another is to check
#  the final max and two-norm forces reported in the log file. If you know
#  that minimization is not required, you can set maxiter = 0.0 in
#  init.mod.
#
#  There are two alternate versions of displace.mod provided.
#  They are displace_restart.mod and displace_reverse.mod.
#  The former resets the box using a restart file while
#  the latter reverses the deformation. Copy whichever
#  one you like best to displace.mod.
#

include init.mod
variable dump_file string "None"
variable up  equal 1.0e-6
variable cfac  equal 1.0e-4
variable cunits  string GPa
variable etol  equal 0
variable ftol  equal 1.0e-10
variable maxiter equal 1000
variable maxeval equal 10000
variable dmax equal 1.0e-2
variable data_file string "data"
units metal
atom_style charge
boundary p p p
atom_modify sort 0 0.0

read_data data
  triclinic box = (0 0 0) to (4.08165 4.08165 30.2449) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  reading atoms ...
  12 atoms

### interactions
mass 1 26.9815386
include potential.mod
pair_style eam/alloy
pair_coeff * * /users/knc6/Software/LAMMPS/lammps-master/potentials/Al_zhou.eam.alloy  Al
Reading potential file /users/knc6/Software/LAMMPS/lammps-master/potentials/Al_zhou.eam.alloy with DATE: 2007-10-12
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes
min_style  cg
min_modify           dmax ${dmax} line quadratic
min_modify           dmax 0.01 line quadratic
thermo          1
thermo_style custom step temp press cpu pxx pyy pzz             pxy pxz pyz ke pe etotal vol lx ly lz atoms
thermo_modify norm no
#fix 3 all nph aniso 0.0 0.0 1.0
#fix langevin all langevin 0.0 0.0 1.0 12233

#fix 3 all box/relax tri 0.0 vmax 0.001
fix            3 all box/relax aniso 0.0 vmax 0.001
#fix 3 all box/relax  aniso 0.0
#dump            2a all cfg 100 *.cfg mass type xs ys zs  vx vy vz fx fy fz
#dump_modify     2a element  Mo S

#fix 1a all qeq/comb 1 0.0001 file fq.out
#fix             2 all qeq/reax 1 0.0 10.0 1e-6 /scratch/lfs/kamal/JARVIS/All2/ReaxFF/param.qeq
minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 1000 ${maxeval}
minimize 0 1e-10 1000 10000
Neighbor list info ...
  1 neighbor list requests
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11.1025
  ghost atom cutoff = 11.1025
Memory usage per processor = 3.86872 Mbytes
Step Temp Press CPU Pxx Pyy Pzz Pxy Pxz Pyz KinEng PotEng TotEng Volume Lx Ly Lz Atoms 
       0            0   -10530.565            0   -12711.453   -12711.453   -6168.7894 4.7263292e-12 2.5181358e-12 1.2808734e-12            0   -41.139402   -41.139402    503.87684      4.08165      4.08165     30.24495       12 
       1            0   -9629.0331 0.00014305115   -11747.232   -11747.232   -5392.6358 5.1556322e-12 -2.0561766e-12 -1.7471025e-12            0   -41.148007   -41.148007    502.62555    4.0775683    4.0775683    30.230272       12 
       2            0   -8725.7776 0.00028991699   -10779.197   -10779.197   -4618.9393 2.2335252e-12 -1.6263684e-12 3.8802635e-13            0   -41.155832   -41.155832    501.38953    4.0734867    4.0734867    30.216395       12 
       3            0   -7822.8155 0.00043511391   -9809.2142   -9809.2142   -3850.0181 -1.3527346e-12 -8.0702483e-12 8.4918198e-12            0   -41.162885   -41.162885    500.17085    4.0694051    4.0694051    30.203449       12 
       4            0   -6922.5859 0.0005800724   -8839.5197   -8839.5197   -3088.7184 -3.6393332e-12 3.5541583e-12 -1.1246242e-11            0   -41.169179   -41.169179    498.97213    4.0653234    4.0653234    30.191597       12 
       5            0   -6028.1084 0.0007250309   -7872.8557   -7872.8557   -2338.6137 -1.0620735e-11 -1.1747379e-11 6.1324702e-12            0    -41.17473    -41.17473    497.79677    4.0612418    4.0612418    30.181053       12 
       6            0   -5143.2212 0.00086903572   -6912.6794   -6912.6794   -1604.3047 5.9383246e-12 -1.8380914e-11 2.5039497e-12            0   -41.179559   -41.179559    496.64921    4.0571601    4.0571601    30.172095       12 
       7            0   -4272.9534 0.0010130405   -5963.4861   -5963.4861   -891.88807 -3.4633624e-13 4.1004489e-12 -3.0248776e-12            0   -41.183695   -41.183695    495.53553    4.0530785    4.0530785    30.165101       12 
       8            0   -3424.1249 0.0011570454   -5031.3317   -5031.3317   -209.71138 4.0928616e-12 -6.8680775e-12 9.2580177e-12            0   -41.187178   -41.187178    494.46414    4.0489968    4.0489968    30.160597       12 
       9            0   -2606.3544 0.0013010502   -4124.7104   -4124.7104    430.35768 1.0890642e-11 7.0121841e-12 -9.4761446e-12            0   -41.190061   -41.190061    493.44722    4.0449152    4.0449152    30.159343       12 
      10            0    -1833.824 0.0014441013   -3256.0908   -3256.0908    1010.7094 -3.6243238e-12 1.0413425e-11 -7.5290504e-12            0   -41.192417   -41.192417    492.50307    4.0408335    4.0408335    30.162479       12 
      11            0    -1128.479 0.0015869141   -2444.7003   -2444.7003    1503.9637 -3.6241699e-12 -7.4725597e-12 -2.0580705e-12            0   -41.194353   -41.194353    491.66049    4.0367519    4.0367519    30.171799       12 
      12            0   -525.82256 0.0017309189   -1721.5707   -1721.5707    1865.6736 3.1238106e-12 -1.1527333e-11 -5.7075607e-12            0    -41.19602    -41.19602    490.96672    4.0326702    4.0326702    30.190245       12 
      13            0   -113.75649 0.0018749237   -1176.8923   -1176.8923    2012.5151 -2.1457814e-13 -5.4430515e-12 3.2157573e-12            0   -41.197525   -41.197525    490.53153     4.028865     4.028865     30.22049       12 
      14            0    20.347178 0.0020179749   -941.67171   -941.67171    1944.3849 -9.3721183e-13 -1.1563586e-11 5.6407752e-12            0   -41.198584   -41.198584    490.43368    4.0264488    4.0264488    30.250735       12 
      15            0    72.663123 0.0021660328   -797.64807   -797.64807    1813.2855 8.7380567e-12 7.4868912e-12 -2.6133762e-13            0   -41.199488   -41.199488    490.43541    4.0244445    4.0244445     30.28098       12 
      16            0    89.774239 0.0023100376   -693.02979   -693.02979    1655.3823 -7.2407263e-12 -2.5874328e-12 -5.8824238e-13            0   -41.200292   -41.200292    490.48056    4.0226213    4.0226213    30.311225       12 
      17            0    91.078577 0.0024540424   -606.27132   -606.27132    1485.7784 1.220499e-12 -1.4350691e-11 1.5569607e-11            0   -41.201015   -41.201015    490.54588    4.0208837    4.0208837     30.34147       12 
      18            0     85.60784  0.002614975   -527.36582   -527.36582    1311.5552 -3.0931783e-12 1.980898e-12 1.7805219e-12            0   -41.201668   -41.201668     490.6207    4.0191876    4.0191876    30.371715       12 
      19            0    77.462828 0.0027599335    -451.8027    -451.8027    1135.9939 1.3585688e-13 -1.364384e-11 -2.6427667e-12            0   -41.202253   -41.202253    490.70034    4.0175139    4.0175139     30.40196       12 
      20            0    68.274517 0.0029029846   -377.83472   -377.83472      960.493 -2.076857e-12 6.6425028e-13 -1.1838658e-11            0   -41.202776   -41.202776    490.78321    4.0158561    4.0158561    30.432205       12 
      21            0    58.529032 0.0030479431   -305.01193   -305.01193    785.61096 -5.2868696e-12 -6.0569401e-12 7.4962451e-12            0   -41.203242   -41.203242    490.86931    4.0142141    4.0142141     30.46245       12 
      22            0     48.29716 0.0031919479   -233.38705   -233.38705    611.66559 -1.0320957e-11 9.9970236e-12 -4.1124397e-12            0   -41.203657   -41.203657    490.95946    4.0125912    4.0125912    30.492695       12 
      23            0    37.578448 0.0033359528   -163.17457   -163.17457    439.08449 3.8496582e-12 4.5542773e-12 1.0776323e-12            0   -41.204033   -41.204033    491.05527     4.010994     4.010994     30.52294       12 
      24            0    26.402178 0.0034799576   -94.762032   -94.762032     268.7306 5.5768131e-12 -7.7430155e-13 -1.9155461e-13            0   -41.204395   -41.204395    491.16013    4.0094362    4.0094362    30.553185       12 
      25            0    14.850936 0.0036239624   -29.182078   -29.182078    102.91696 -2.3010459e-12 1.1581586e-13 8.9738611e-13            0   -41.204805   -41.204805     491.2834    4.0079561    4.0079561     30.58343       12 
      26            0    3.5809013 0.0037679672    28.152916    28.152916   -45.563129 -8.4423688e-13 8.530673e-12 1.1105103e-12            0   -41.205578   -41.205578    491.47682    4.0067642    4.0067642    30.613675       12 
      27            0    15.128691 0.0039219856   -68.587885   -68.587885    182.56184 1.1140881e-11 2.5427989e-12 8.1295034e-13            0   -41.206686   -41.206686     491.6288    4.0093647    4.0093647     30.58343       12 
      28            0    18.278873 0.0040669441    12.872348    12.872348    29.091924 6.1558134e-12 8.690092e-12 -1.0752147e-11            0   -41.206879   -41.206879    491.73048    4.0077981    4.0077981    30.613675       12 
      29            0   -511.05442 0.0042130947   -525.78237   -525.78237   -481.59852 -6.8003152e-12 -9.5294643e-12 -5.6273182e-12            0   -41.207364   -41.207364    492.67369    4.0096598    4.0096598     30.64392       12 
      30            0    163.70331 0.0044879913    196.04622    196.04622    99.017485  6.84129e-12 8.9650985e-12 -9.7494549e-12            0   -41.207601   -41.207601    491.94059    4.0071792    4.0071792    30.636216       12 
      31            0    121.06076 0.0047631264    142.29752    142.29752    78.587242 -8.0349226e-13 -6.9108898e-12 -9.9351186e-12            0    -41.20765    -41.20765    492.11437    4.0076871    4.0076871    30.639272       12 
      32            0   -4.7393028  0.005038023    6.7352755    6.7352755   -27.688459 3.7759001e-12 7.3690536e-13 3.5831151e-12            0   -41.207657   -41.207657     492.2736    4.0082018    4.0082018    30.641314       12 
      33            0  -0.23072721 0.0053229332  -0.73262245  -0.73262245   0.77306329 -5.7389079e-12 -9.7184413e-12 1.1839355e-11            0   -41.207657   -41.207657    492.25697    4.0084408    4.0084408    30.636625       12 
      34            0    10.169754 0.0055959225    10.916958    10.916958    8.6753452 -1.8149144e-12 7.6576206e-12 -7.971745e-13            0   -41.207658   -41.207658    492.23796    4.0083792    4.0083792    30.636384       12 
      35            0  -0.15222125 0.0058710575  0.087091875  0.087091874  -0.63084751 -4.6128346e-12 2.8582695e-12 -4.5581939e-12            0   -41.207658   -41.207658    492.24978     4.008413     4.008413    30.636603       12 
      36            0   0.19643609 0.0061430931   -0.5382742   -0.5382742    1.6658567 -1.3709468e-11 3.7086495e-12 -7.171723e-13            0   -41.207658   -41.207658    492.24764    4.0084315    4.0084315    30.636187       12 
      37            0  -0.97220868 0.0064139366   -1.0561993   -1.0561993  -0.80422739 -4.5748285e-13 5.3590195e-12 -1.3108976e-11            0   -41.207658   -41.207658     492.2489    4.0084198    4.0084198    30.636444       12 
      38            0  0.013312961 0.0066859722   0.03475314   0.03475314 -0.029567397 7.3529048e-12 6.4015477e-12 4.3742598e-12            0   -41.207658   -41.207658    492.24763    4.0084151    4.0084151    30.636437       12 
      39            0  -0.33784061 0.0069570541  -0.42076558  -0.42076558  -0.17199066 -9.8018223e-12 -7.9990015e-13 8.689901e-12            0   -41.207658   -41.207658     492.2481    4.0084183    4.0084183    30.636417       12 
      40            0  0.050241407 0.0072290897 -0.037577999 -0.037577999   0.22588022 4.7402603e-12 1.7755636e-12 -7.6704488e-12            0   -41.207658   -41.207658    492.24763    4.0084175    4.0084175      30.6364       12 
      41            0 0.0003069014 0.0074999332 0.0013897091 0.0013897092 -0.0018587141 7.225434e-12 6.8431849e-12 -3.3615342e-12            0   -41.207658   -41.207658    492.24782    4.0084159    4.0084159    30.636437       12 
      42            0  -0.01248386 0.0077719688 -0.013887882 -0.013887882 -0.009675815 -3.9636163e-12 -8.983898e-13 6.2726352e-13            0   -41.207658   -41.207658    492.24787     4.008416     4.008416    30.636438       12 
      43            0 0.00014225874 0.0080580711 -0.00040804101 -0.00040804149 0.0012428587 7.7561056e-14 -5.5418386e-12 -5.5367081e-13            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      44            0 -1.0886756e-05 0.0083179474 4.8237018e-05 4.8236994e-05 -0.00012913428 -7.966974e-13 5.5687498e-14 9.176953e-13            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      45            0 -0.00013551992 0.0085759163 -0.00014490867 -0.00014490821 -0.00011674289 5.0399038e-12 5.1815556e-12 1.0785493e-12            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      46            0 3.7425571e-06 0.0088341236 2.6749358e-06 2.6753199e-06 5.8774155e-06 -8.2623198e-13 7.7266522e-13 4.8269436e-12            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      47            0 -2.1618531e-06 0.0090920925 1.3399081e-05 1.3395649e-05 -3.3280289e-05 3.5202453e-12 -2.3910914e-12 6.5164833e-12            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      48            0 -2.2915429e-06 0.0093500614 -2.4294132e-06 -2.4296298e-06 -2.0155859e-06 5.2781718e-12 -1.2429352e-11 2.613828e-12            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      49            0 1.528871e-07 0.0096070766 1.3799777e-07 1.3782438e-07 1.8283916e-07 2.4253077e-12 3.1537217e-12 5.9675435e-12            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      50            0 -3.2518315e-09 0.0099740028 4.5765673e-08 4.680473e-08 -1.023259e-07 -2.4276034e-12 3.0424821e-12 6.5714729e-12            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
Loop time of 0.00998592 on 1 procs for 50 steps with 12 atoms

80.1% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -41.1394023659     -41.2076577606     -41.2076577606
  Force two-norm initial, final = 5.98966 4.20805e-11
  Force max component initial, final = 3.99769 3.10366e-11
  Final line search alpha, max atom move = 1 3.10366e-11
  Iterations, force evaluations = 50 71

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.0076842  | 0.0076842  | 0.0076842  |   0.0 | 76.95
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00039101 | 0.00039101 | 0.00039101 |   0.0 |  3.92
Output  | 0.00069737 | 0.00069737 | 0.00069737 |   0.0 |  6.98
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.001213   |            |       | 12.15

Nlocal:    12 ave 12 max 12 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    780 ave 780 max 780 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1284 ave 1284 max 1284 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1284
Ave neighs/atom = 107
Neighbor list builds = 0
Dangerous builds = 0
#minimize ${etol} ${ftol} ${maxiter} ${maxeval}
#minimize ${etol} ${ftol} ${maxiter} ${maxeval}

variable tmp equal pxx
variable pxx0 equal ${tmp}
variable pxx0 equal 4.5765673234707e-08
variable tmp equal pyy
variable pyy0 equal ${tmp}
variable pyy0 equal 4.68047301910858e-08
variable tmp equal pzz
variable pzz0 equal ${tmp}
variable pzz0 equal -1.02325897982508e-07
variable tmp equal pyz
variable pyz0 equal ${tmp}
variable pyz0 equal 6.57147286834141e-12
variable tmp equal pxz
variable pxz0 equal ${tmp}
variable pxz0 equal 3.04248209129677e-12
variable tmp equal pxy
variable pxy0 equal ${tmp}
variable pxy0 equal -2.42760335407359e-12

variable tmp equal lx
variable lx0 equal ${tmp}
variable lx0 equal 4.00841595339635
variable tmp equal ly
variable ly0 equal ${tmp}
variable ly0 equal 4.00841595339632
variable tmp equal lz
variable lz0 equal ${tmp}
variable lz0 equal 30.636438098854

# These formulas define the derivatives w.r.t. strain components
# Constants uses $, variables use v_
variable d1 equal -(v_pxx1-${pxx0})/(v_delta/v_len0)*${cfac}
variable d1 equal -(v_pxx1-4.5765673234707e-08)/(v_delta/v_len0)*${cfac}
variable d1 equal -(v_pxx1-4.5765673234707e-08)/(v_delta/v_len0)*0.0001
variable d2 equal -(v_pyy1-${pyy0})/(v_delta/v_len0)*${cfac}
variable d2 equal -(v_pyy1-4.68047301910858e-08)/(v_delta/v_len0)*${cfac}
variable d2 equal -(v_pyy1-4.68047301910858e-08)/(v_delta/v_len0)*0.0001
variable d3 equal -(v_pzz1-${pzz0})/(v_delta/v_len0)*${cfac}
variable d3 equal -(v_pzz1--1.02325897982508e-07)/(v_delta/v_len0)*${cfac}
variable d3 equal -(v_pzz1--1.02325897982508e-07)/(v_delta/v_len0)*0.0001
variable d4 equal -(v_pyz1-${pyz0})/(v_delta/v_len0)*${cfac}
variable d4 equal -(v_pyz1-6.57147286834141e-12)/(v_delta/v_len0)*${cfac}
variable d4 equal -(v_pyz1-6.57147286834141e-12)/(v_delta/v_len0)*0.0001
variable d5 equal -(v_pxz1-${pxz0})/(v_delta/v_len0)*${cfac}
variable d5 equal -(v_pxz1-3.04248209129677e-12)/(v_delta/v_len0)*${cfac}
variable d5 equal -(v_pxz1-3.04248209129677e-12)/(v_delta/v_len0)*0.0001
variable d6 equal -(v_pxy1-${pxy0})/(v_delta/v_len0)*${cfac}
variable d6 equal -(v_pxy1--2.42760335407359e-12)/(v_delta/v_len0)*${cfac}
variable d6 equal -(v_pxy1--2.42760335407359e-12)/(v_delta/v_len0)*0.0001

# Write restart
unfix 3
minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 1000 ${maxeval}
minimize 0 1e-10 1000 10000
Memory usage per processor = 3.86872 Mbytes
Step Temp Press CPU Pxx Pyy Pzz Pxy Pxz Pyz KinEng PotEng TotEng Volume Lx Ly Lz Atoms 
      50            0 -3.2171107e-09            0 4.5813064e-08 4.6831153e-08 -1.0229555e-07 -1.3725513e-12 7.3775636e-12 2.0751964e-13            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      51            0 8.9676645e-08 0.00036692619 1.3439083e-07 1.3544905e-07 -8.0994372e-10 3.6117499e-12 -2.7570233e-12 2.3981254e-12            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
Loop time of 0.000377893 on 1 procs for 1 steps with 12 atoms

0.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -41.2076577606     -41.2076577606     -41.2076577606
  Force two-norm initial, final = 1.9695e-11 2.90264e-13
  Force max component initial, final = 6.19091e-12 1.07324e-13
  Final line search alpha, max atom move = 1 1.07324e-13
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.00033426 | 0.00033426 | 0.00033426 |   0.0 | 88.45
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 2.0504e-05 | 2.0504e-05 | 2.0504e-05 |   0.0 |  5.43
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 2.313e-05  |            |       |  6.12

Nlocal:    12 ave 12 max 12 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1066 ave 1066 max 1066 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1428 ave 1428 max 1428 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1428
Ave neighs/atom = 119
Neighbor list builds = 0
Dangerous builds = 0
#fix 1a all qeq/comb 1 0.0001 file fq.out
write_restart restart.equil
write_data data0

# uxx Perturbation

variable dir equal 1
include /users/knc6/displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
variable len0 equal ${lx0}
variable len0 equal 4.00841595339635
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
box tilt large
read_restart restart.equil
  triclinic box = (0.036617 0.036617 -0.195744) to (4.04503 4.04503 30.4407) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  12 atoms
include potential.mod
pair_style eam/alloy
pair_coeff * * /users/knc6/Software/LAMMPS/lammps-master/potentials/Al_zhou.eam.alloy  Al
Reading potential file /users/knc6/Software/LAMMPS/lammps-master/potentials/Al_zhou.eam.alloy with DATE: 2007-10-12
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes
min_style  cg
min_modify           dmax ${dmax} line quadratic
min_modify           dmax 0.01 line quadratic
thermo          1
thermo_style custom step temp press cpu pxx pyy pzz             pxy pxz pyz ke pe etotal vol lx ly lz atoms
thermo_modify norm no
# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*4.00841595339635
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
change_box all x delta 0 ${delta} remap units box
change_box all x delta 0 -4.00841595339635e-06 remap units box
  triclinic box = (0.036617 0.036617 -0.195744) to (4.04503 4.04503 30.4407) with tilt (0 0 0)
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 1000 ${maxeval}
minimize 0 1e-10 1000 10000
Neighbor list info ...
  1 neighbor list requests
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11.1025
  ghost atom cutoff = 11.1025
Memory usage per processor = 3.88955 Mbytes
Step Temp Press CPU Pxx Pyy Pzz Pxy Pxz Pyz KinEng PotEng TotEng Volume Lx Ly Lz Atoms 
      51            0   0.39933647            0   0.52609009   0.36959848   0.30232086 -4.2262589e-12 -7.1449816e-12 -3.162439e-12            0   -41.207658   -41.207658    492.24737    4.0084119     4.008416    30.636438       12 
      52            0   0.29115906 0.00037813187   0.42681122   0.27031973   0.17634623 -4.355294e-12 4.0391301e-13 6.6644691e-12            0   -41.207658   -41.207658    492.24737    4.0084119     4.008416    30.636438       12 
      53            0   0.18520826 0.00075411797   0.33577829    0.1792869  0.040559594 -2.7318766e-12 -6.1714187e-12 2.222165e-12            0   -41.207658   -41.207658    492.24737    4.0084119     4.008416    30.636438       12 
      54            0   0.15365225 0.0013000965   0.30872432   0.15223298 -5.6352235e-07 -6.2738519e-12 2.6417888e-12 6.2783279e-12            0   -41.207658   -41.207658    492.24737    4.0084119     4.008416    30.636438       12 
Loop time of 0.00132513 on 1 procs for 3 steps with 12 atoms

301.9% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -41.2076577605     -41.2076577606     -41.2076577606
  Force two-norm initial, final = 9.86541e-06 3.77704e-11
  Force max component initial, final = 4.89174e-06 1.54448e-11
  Final line search alpha, max atom move = 1 1.54448e-11
  Iterations, force evaluations = 3 6

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.0011578  | 0.0011578  | 0.0011578  |   0.0 | 87.37
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 7.4863e-05 | 7.4863e-05 | 7.4863e-05 |   0.0 |  5.65
Output  | 3.8862e-05 | 3.8862e-05 | 3.8862e-05 |   0.0 |  2.93
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 5.364e-05  |            |       |  4.05

Nlocal:    12 ave 12 max 12 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1066 ave 1066 max 1066 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1428 ave 1428 max 1428 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1428
Ave neighs/atom = 119
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 0.308724323757097
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 0.152232982064718
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -5.63522354303376e-07
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -6.27385186415181e-12
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 2.64178883298086e-12
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 6.27832792903023e-12

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 30.8724277991424
variable C2neg equal ${d2}
variable C2neg equal 15.2232935259988
variable C3neg equal ${d3}
variable C3neg equal -4.61196456320868e-05
variable C4neg equal ${d4}
variable C4neg equal -2.9314493931118e-11
variable C5neg equal ${d5}
variable C5neg equal -4.0069325831591e-11
variable C6neg equal ${d6}
variable C6neg equal -3.84624851007822e-10

# Reset box and simulation parameters

clear
box tilt large
read_restart restart.equil
  triclinic box = (0.036617 0.036617 -0.195744) to (4.04503 4.04503 30.4407) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  12 atoms
include potential.mod
pair_style eam/alloy
pair_coeff * * /users/knc6/Software/LAMMPS/lammps-master/potentials/Al_zhou.eam.alloy  Al
Reading potential file /users/knc6/Software/LAMMPS/lammps-master/potentials/Al_zhou.eam.alloy with DATE: 2007-10-12
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes
min_style  cg
min_modify           dmax ${dmax} line quadratic
min_modify           dmax 0.01 line quadratic
thermo          1
thermo_style custom step temp press cpu pxx pyy pzz             pxy pxz pyz ke pe etotal vol lx ly lz atoms
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*4.00841595339635
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
change_box all x delta 0 ${delta} remap units box
change_box all x delta 0 4.00841595339635e-06 remap units box
  triclinic box = (0.036617 0.036617 -0.195744) to (4.04504 4.04503 30.4407) with tilt (0 0 0)
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 1000 ${maxeval}
minimize 0 1e-10 1000 10000
Neighbor list info ...
  1 neighbor list requests
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11.1025
  ghost atom cutoff = 11.1025
Memory usage per processor = 3.88955 Mbytes
Step Temp Press CPU Pxx Pyy Pzz Pxy Pxz Pyz KinEng PotEng TotEng Volume Lx Ly Lz Atoms 
      51            0  -0.39933528            0  -0.52608941  -0.36959682   -0.3023196 -6.1332538e-13 -2.3592908e-12 -8.6566122e-12            0   -41.207658   -41.207658    492.24835      4.00842     4.008416    30.636438       12 
      52            0  -0.29115871 0.00032711029  -0.42681136  -0.27031866   -0.1763461 2.8083444e-12 -3.6278962e-13 -3.8836061e-12            0   -41.207658   -41.207658    492.24835      4.00842     4.008416    30.636438       12 
      53            0  -0.18520935 0.00065112114  -0.33577982    -0.179287 -0.040561229 -5.4501543e-13 -2.8597686e-12 4.6137279e-12            0   -41.207658   -41.207658    492.24835      4.00842     4.008416    30.636438       12 
      54            0  -0.15365293 0.0011219978  -0.30872555  -0.15223269 -5.635035e-07 5.6813326e-12 -3.464841e-12 -8.4775607e-12            0   -41.207658   -41.207658    492.24835      4.00842     4.008416    30.636438       12 
Loop time of 0.00113606 on 1 procs for 3 steps with 12 atoms

0.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -41.2076577605     -41.2076577606     -41.2076577606
  Force two-norm initial, final = 9.86539e-06 3.77699e-11
  Force max component initial, final = 4.89173e-06 1.5447e-11
  Final line search alpha, max atom move = 1 1.5447e-11
  Iterations, force evaluations = 3 6

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.00099492 | 0.00099492 | 0.00099492 |   0.0 | 87.58
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 7.0333e-05 | 7.0333e-05 | 7.0333e-05 |   0.0 |  6.19
Output  | 3.2902e-05 | 3.2902e-05 | 3.2902e-05 |   0.0 |  2.90
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 3.791e-05  |            |       |  3.34

Nlocal:    12 ave 12 max 12 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1066 ave 1066 max 1066 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1428 ave 1428 max 1428 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1428
Ave neighs/atom = 119
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -41.2076577605785
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal -0.153652933988593
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -0.308725545625352
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -0.152232692836925
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -5.63503500932013e-07
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 5.68133259444384e-12
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -3.46484099333145e-12
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -8.47756067820133e-12

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 30.8725591391025
variable C2pos equal ${d2}
variable C2pos equal 15.2232739641655
variable C3pos equal ${d3}
variable C3pos equal 4.61177602949505e-05
variable C4pos equal ${d4}
variable C4pos equal 1.50490335465427e-09
variable C5pos equal ${d5}
variable C5pos equal 6.50732308462822e-10
variable C6pos equal ${d6}
variable C6pos equal -8.10893594851743e-10

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C11 equal 0.5*(${C1neg}+${C1pos})
variable C11 equal 0.5*(30.8724277991424+${C1pos})
variable C11 equal 0.5*(30.8724277991424+30.8725591391025)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C21 equal 0.5*(${C2neg}+${C2pos})
variable C21 equal 0.5*(15.2232935259988+${C2pos})
variable C21 equal 0.5*(15.2232935259988+15.2232739641655)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C31 equal 0.5*(${C3neg}+${C3pos})
variable C31 equal 0.5*(-4.61196456320868e-05+${C3pos})
variable C31 equal 0.5*(-4.61196456320868e-05+4.61177602949505e-05)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C41 equal 0.5*(${C4neg}+${C4pos})
variable C41 equal 0.5*(-2.9314493931118e-11+${C4pos})
variable C41 equal 0.5*(-2.9314493931118e-11+1.50490335465427e-09)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C51 equal 0.5*(${C5neg}+${C5pos})
variable C51 equal 0.5*(-4.0069325831591e-11+${C5pos})
variable C51 equal 0.5*(-4.0069325831591e-11+6.50732308462822e-10)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C61 equal 0.5*(${C6neg}+${C6pos})
variable C61 equal 0.5*(-3.84624851007822e-10+${C6pos})
variable C61 equal 0.5*(-3.84624851007822e-10+-8.10893594851743e-10)

# Delete dir to make sure it is not reused

variable dir delete

# uyy Perturbation

variable dir equal 2
include /users/knc6/displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
variable len0 equal ${ly0}
variable len0 equal 4.00841595339632
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
box tilt large
read_restart restart.equil
  triclinic box = (0.036617 0.036617 -0.195744) to (4.04503 4.04503 30.4407) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  12 atoms
include potential.mod
pair_style eam/alloy
pair_coeff * * /users/knc6/Software/LAMMPS/lammps-master/potentials/Al_zhou.eam.alloy  Al
Reading potential file /users/knc6/Software/LAMMPS/lammps-master/potentials/Al_zhou.eam.alloy with DATE: 2007-10-12
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes
min_style  cg
min_modify           dmax ${dmax} line quadratic
min_modify           dmax 0.01 line quadratic
thermo          1
thermo_style custom step temp press cpu pxx pyy pzz             pxy pxz pyz ke pe etotal vol lx ly lz atoms
thermo_modify norm no
# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*4.00841595339632
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
change_box all y delta 0 ${delta} remap units box
change_box all y delta 0 -4.00841595339632e-06 remap units box
  triclinic box = (0.036617 0.036617 -0.195744) to (4.04503 4.04503 30.4407) with tilt (0 0 0)
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 1000 ${maxeval}
minimize 0 1e-10 1000 10000
Neighbor list info ...
  1 neighbor list requests
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11.1025
  ghost atom cutoff = 11.1025
Memory usage per processor = 3.88955 Mbytes
Step Temp Press CPU Pxx Pyy Pzz Pxy Pxz Pyz KinEng PotEng TotEng Volume Lx Ly Lz Atoms 
      51            0   0.39933647            0   0.36959848   0.52609009   0.30232086 1.8259775e-12 3.880603e-12 -3.0654022e-12            0   -41.207658   -41.207658    492.24737     4.008416    4.0084119    30.636438       12 
      52            0   0.29115906 0.00030207634   0.27031973   0.42681123   0.17634623 6.1252908e-12 8.3334534e-13 -4.2633933e-12            0   -41.207658   -41.207658    492.24737     4.008416    4.0084119    30.636438       12 
      53            0   0.18520826 0.00060296059    0.1792869   0.33577829  0.040559595 2.7035553e-13 -1.4246751e-11 8.707694e-12            0   -41.207658   -41.207658    492.24737     4.008416    4.0084119    30.636438       12 
      54            0   0.15365225 0.0010399818   0.15223298   0.30872432 -5.6352983e-07 1.2598693e-13 -1.4608081e-11 -4.4673476e-13            0   -41.207658   -41.207658    492.24737     4.008416    4.0084119    30.636438       12 
Loop time of 0.00105405 on 1 procs for 3 steps with 12 atoms

0.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -41.2076577605     -41.2076577606     -41.2076577606
  Force two-norm initial, final = 9.86541e-06 3.77736e-11
  Force max component initial, final = 4.89174e-06 1.54467e-11
  Final line search alpha, max atom move = 1 1.54467e-11
  Iterations, force evaluations = 3 6

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.00092244 | 0.00092244 | 0.00092244 |   0.0 | 87.51
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 6.0797e-05 | 6.0797e-05 | 6.0797e-05 |   0.0 |  5.77
Output  | 3.0994e-05 | 3.0994e-05 | 3.0994e-05 |   0.0 |  2.94
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 3.982e-05  |            |       |  3.78

Nlocal:    12 ave 12 max 12 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1066 ave 1066 max 1066 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1428 ave 1428 max 1428 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1428
Ave neighs/atom = 119
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 0.152232980985122
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 0.308724324764407
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -5.63529834963444e-07
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 1.25986931501553e-13
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -1.46080806437817e-11
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -4.46734760642191e-13

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 15.2232935219449
variable C2neg equal ${d2}
variable C2neg equal 30.8724277959677
variable C3neg equal ${d3}
variable C3neg equal -4.61203936980936e-05
variable C4neg equal ${d4}
variable C4neg equal -7.0182076289836e-10
variable C5neg equal ${d5}
variable C5neg equal -1.76505627350785e-09
variable C6neg equal ${d6}
variable C6neg equal 2.55359028557514e-10

# Reset box and simulation parameters

clear
box tilt large
read_restart restart.equil
  triclinic box = (0.036617 0.036617 -0.195744) to (4.04503 4.04503 30.4407) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  12 atoms
include potential.mod
pair_style eam/alloy
pair_coeff * * /users/knc6/Software/LAMMPS/lammps-master/potentials/Al_zhou.eam.alloy  Al
Reading potential file /users/knc6/Software/LAMMPS/lammps-master/potentials/Al_zhou.eam.alloy with DATE: 2007-10-12
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes
min_style  cg
min_modify           dmax ${dmax} line quadratic
min_modify           dmax 0.01 line quadratic
thermo          1
thermo_style custom step temp press cpu pxx pyy pzz             pxy pxz pyz ke pe etotal vol lx ly lz atoms
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*4.00841595339632
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
change_box all y delta 0 ${delta} remap units box
change_box all y delta 0 4.00841595339632e-06 remap units box
  triclinic box = (0.036617 0.036617 -0.195744) to (4.04503 4.04504 30.4407) with tilt (0 0 0)
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 1000 ${maxeval}
minimize 0 1e-10 1000 10000
Neighbor list info ...
  1 neighbor list requests
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11.1025
  ghost atom cutoff = 11.1025
Memory usage per processor = 3.88955 Mbytes
Step Temp Press CPU Pxx Pyy Pzz Pxy Pxz Pyz KinEng PotEng TotEng Volume Lx Ly Lz Atoms 
      51            0  -0.39933528            0  -0.36959682  -0.52608941   -0.3023196 5.935382e-12 7.6219483e-12 8.3877736e-12            0   -41.207658   -41.207658    492.24835     4.008416      4.00842    30.636438       12 
      52            0  -0.29115871 0.00027394295  -0.27031866  -0.42681136   -0.1763461 6.2808981e-12 6.2458373e-12 5.6421189e-12            0   -41.207658   -41.207658    492.24835     4.008416      4.00842    30.636438       12 
      53            0  -0.18520935 0.00054597855  -0.17928701  -0.33577981 -0.040561229 1.0178848e-12 2.9707078e-12 7.298938e-12            0   -41.207658   -41.207658    492.24835     4.008416      4.00842    30.636438       12 
      54            0  -0.15365293 0.00094294548  -0.15223269  -0.30872554 -5.6351506e-07 -2.8217115e-12 2.8580852e-12 5.2109956e-12            0   -41.207658   -41.207658    492.24835     4.008416      4.00842    30.636438       12 
Loop time of 0.000954866 on 1 procs for 3 steps with 12 atoms

0.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -41.2076577605     -41.2076577606     -41.2076577606
  Force two-norm initial, final = 9.86539e-06 3.77691e-11
  Force max component initial, final = 4.89173e-06 1.54456e-11
  Final line search alpha, max atom move = 1 1.54456e-11
  Iterations, force evaluations = 3 6

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.00083542 | 0.00083542 | 0.00083542 |   0.0 | 87.49
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 6.1989e-05 | 6.1989e-05 | 6.1989e-05 |   0.0 |  6.49
Output  | 2.8133e-05 | 2.8133e-05 | 2.8133e-05 |   0.0 |  2.95
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 2.933e-05  |            |       |  3.07

Nlocal:    12 ave 12 max 12 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1066 ave 1066 max 1066 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1428 ave 1428 max 1428 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1428
Ave neighs/atom = 119
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -41.2076577605784
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal -0.153652933992227
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -0.152232693873982
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -0.308725544587641
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -5.63515058111412e-07
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -2.82171153842739e-12
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 2.85808524579914e-12
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 5.21099563139911e-12

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 15.2232739639655
variable C2pos equal ${d2}
variable C2pos equal 30.8725591392371
variable C3pos equal ${d3}
variable C3pos equal 4.61189160128904e-05
variable C4pos equal ${d4}
variable C4pos equal 1.3604772369423e-10
variable C5pos equal ${d5}
variable C5pos equal 1.8439684549763e-11
variable C6pos equal ${d6}
variable C6pos equal 3.941081843538e-11

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C12 equal 0.5*(${C1neg}+${C1pos})
variable C12 equal 0.5*(15.2232935219449+${C1pos})
variable C12 equal 0.5*(15.2232935219449+15.2232739639655)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C22 equal 0.5*(${C2neg}+${C2pos})
variable C22 equal 0.5*(30.8724277959677+${C2pos})
variable C22 equal 0.5*(30.8724277959677+30.8725591392371)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C32 equal 0.5*(${C3neg}+${C3pos})
variable C32 equal 0.5*(-4.61203936980936e-05+${C3pos})
variable C32 equal 0.5*(-4.61203936980936e-05+4.61189160128904e-05)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C42 equal 0.5*(${C4neg}+${C4pos})
variable C42 equal 0.5*(-7.0182076289836e-10+${C4pos})
variable C42 equal 0.5*(-7.0182076289836e-10+1.3604772369423e-10)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C52 equal 0.5*(${C5neg}+${C5pos})
variable C52 equal 0.5*(-1.76505627350785e-09+${C5pos})
variable C52 equal 0.5*(-1.76505627350785e-09+1.8439684549763e-11)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C62 equal 0.5*(${C6neg}+${C6pos})
variable C62 equal 0.5*(2.55359028557514e-10+${C6pos})
variable C62 equal 0.5*(2.55359028557514e-10+3.941081843538e-11)

# Delete dir to make sure it is not reused

variable dir delete

# uzz Perturbation

variable dir equal 3
include /users/knc6/displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
variable len0 equal ${lz0}
variable len0 equal 30.636438098854
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
box tilt large
read_restart restart.equil
  triclinic box = (0.036617 0.036617 -0.195744) to (4.04503 4.04503 30.4407) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  12 atoms
include potential.mod
pair_style eam/alloy
pair_coeff * * /users/knc6/Software/LAMMPS/lammps-master/potentials/Al_zhou.eam.alloy  Al
Reading potential file /users/knc6/Software/LAMMPS/lammps-master/potentials/Al_zhou.eam.alloy with DATE: 2007-10-12
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes
min_style  cg
min_modify           dmax ${dmax} line quadratic
min_modify           dmax 0.01 line quadratic
thermo          1
thermo_style custom step temp press cpu pxx pyy pzz             pxy pxz pyz ke pe etotal vol lx ly lz atoms
thermo_modify norm no
# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*30.636438098854
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
change_box all z delta 0 ${delta} remap units box
change_box all z delta 0 -3.0636438098854e-05 remap units box
  triclinic box = (0.036617 0.036617 -0.195744) to (4.04503 4.04503 30.4407) with tilt (0 0 0)
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 1000 ${maxeval}
minimize 0 1e-10 1000 10000
Neighbor list info ...
  1 neighbor list requests
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11.1025
  ghost atom cutoff = 11.1025
Memory usage per processor = 3.88955 Mbytes
Step Temp Press CPU Pxx Pyy Pzz Pxy Pxz Pyz KinEng PotEng TotEng Volume Lx Ly Lz Atoms 
      51            0   0.34261424            0   0.30232117   0.30232117   0.42320038 -7.8279111e-12 1.5848878e-13 -1.0906906e-12            0   -41.207658   -41.207658    492.24737     4.008416     4.008416    30.636407       12 
      52            0    0.1739118 0.00036811829   0.14846845   0.14846845   0.22479848 3.6478583e-12 -1.0539062e-11 7.3197372e-12            0   -41.207658   -41.207658    492.24737     4.008416     4.008416    30.636407       12 
      53            0  0.026366218 0.00073599815  0.022623724  0.022623725  0.033851206 -8.4816754e-12 9.082148e-12 6.8245935e-12            0   -41.207658   -41.207658    492.24737     4.008416     4.008416    30.636407       12 
      54            0 -9.5585751e-07 0.0012722015 -7.887291e-07 -7.8767971e-07 -1.2911637e-06 4.5873761e-12 -1.1173831e-11 6.6774399e-12            0   -41.207658   -41.207658    492.24737     4.008416     4.008416    30.636407       12 
Loop time of 0.00128818 on 1 procs for 3 steps with 12 atoms

0.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -41.2076577606     -41.2076577606     -41.2076577606
  Force two-norm initial, final = 1.26197e-05 4.90889e-11
  Force max component initial, final = 6.2994e-06 2.01409e-11
  Final line search alpha, max atom move = 1 2.01409e-11
  Iterations, force evaluations = 3 6

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.001128   | 0.001128   | 0.001128   |   0.0 | 87.56
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 7.7486e-05 | 7.7486e-05 | 7.7486e-05 |   0.0 |  6.02
Output  | 3.6955e-05 | 3.6955e-05 | 3.6955e-05 |   0.0 |  2.87
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 4.578e-05  |            |       |  3.55

Nlocal:    12 ave 12 max 12 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1066 ave 1066 max 1066 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1428 ave 1428 max 1428 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1428
Ave neighs/atom = 119
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -7.88729096606717e-07
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -7.87679713913556e-07
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -1.29116373376125e-06
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 4.58737607008252e-12
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -1.11738313793757e-11
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 6.67743991670968e-12

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal -8.34494769841424e-05
variable C2neg equal ${d2}
variable C2neg equal -8.34484444104642e-05
variable C3neg equal ${d3}
variable C3neg equal -0.000118883783577874
variable C4neg equal ${d4}
variable C4neg equal 1.0596704836827e-11
variable C5neg equal ${d5}
variable C5neg equal -1.42163134706725e-09
variable C6neg equal ${d6}
variable C6neg equal 7.01497942415611e-10

# Reset box and simulation parameters

clear
box tilt large
read_restart restart.equil
  triclinic box = (0.036617 0.036617 -0.195744) to (4.04503 4.04503 30.4407) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  12 atoms
include potential.mod
pair_style eam/alloy
pair_coeff * * /users/knc6/Software/LAMMPS/lammps-master/potentials/Al_zhou.eam.alloy  Al
Reading potential file /users/knc6/Software/LAMMPS/lammps-master/potentials/Al_zhou.eam.alloy with DATE: 2007-10-12
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes
min_style  cg
min_modify           dmax ${dmax} line quadratic
min_modify           dmax 0.01 line quadratic
thermo          1
thermo_style custom step temp press cpu pxx pyy pzz             pxy pxz pyz ke pe etotal vol lx ly lz atoms
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*30.636438098854
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
change_box all z delta 0 ${delta} remap units box
change_box all z delta 0 3.0636438098854e-05 remap units box
  triclinic box = (0.036617 0.036617 -0.195744) to (4.04503 4.04503 30.4407) with tilt (0 0 0)
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 1000 ${maxeval}
minimize 0 1e-10 1000 10000
Neighbor list info ...
  1 neighbor list requests
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11.1025
  ghost atom cutoff = 11.1025
Memory usage per processor = 3.88955 Mbytes
Step Temp Press CPU Pxx Pyy Pzz Pxy Pxz Pyz KinEng PotEng TotEng Volume Lx Ly Lz Atoms 
      51            0  -0.34261181            0  -0.30231929  -0.30231929  -0.42319685 -5.3242363e-12 -3.2360937e-12 -1.1716349e-11            0   -41.207658   -41.207658    492.24835     4.008416     4.008416    30.636469       12 
      52            0  -0.17391263 0.00027513504   -0.1484694  -0.14846939  -0.22479911 8.3409714e-12 -1.1290282e-12 1.0258336e-11            0   -41.207658   -41.207658    492.24835     4.008416     4.008416    30.636469       12 
      53            0 -0.026370256 0.00054812431  -0.02262717 -0.022627169 -0.033856427 1.4274637e-13 -5.9846427e-12 3.1684066e-12            0   -41.207658   -41.207658    492.24835     4.008416     4.008416    30.636469       12 
      54            0 -9.5589171e-07 0.00096416473 -7.8876026e-07 -7.8771721e-07 -1.2911977e-06 5.4419699e-12 -7.4242334e-12 3.1089249e-12            0   -41.207658   -41.207658    492.24835     4.008416     4.008416    30.636469       12 
Loop time of 0.000976086 on 1 procs for 3 steps with 12 atoms

0.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -41.2076577606     -41.2076577606     -41.2076577606
  Force two-norm initial, final = 1.26196e-05 4.90882e-11
  Force max component initial, final = 6.29937e-06 2.01407e-11
  Final line search alpha, max atom move = 1 2.01407e-11
  Iterations, force evaluations = 3 6

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.00083804 | 0.00083804 | 0.00083804 |   0.0 | 85.86
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 5.9128e-05 | 5.9128e-05 | 5.9128e-05 |   0.0 |  6.06
Output  | 4.3154e-05 | 4.3154e-05 | 4.3154e-05 |   0.0 |  4.42
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 3.576e-05  |            |       |  3.66

Nlocal:    12 ave 12 max 12 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1066 ave 1066 max 1066 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1428 ave 1428 max 1428 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1428
Ave neighs/atom = 119
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -41.2076577606261
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal -9.55891708327356e-07
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -7.88760264490284e-07
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -7.87717206999967e-07
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -1.29119765349182e-06
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 5.44196991510342e-12
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -7.42423336836477e-12
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 3.10892493130703e-12

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 8.34525937724991e-05
variable C2pos equal ${d2}
variable C2pos equal 8.34521937191053e-05
variable C3pos equal ${d3}
variable C3pos equal 0.000118887175550931
variable C4pos equal ${d4}
variable C4pos equal 3.46254793703438e-10
variable C5pos equal ${d5}
variable C5pos equal 1.04667154596615e-09
variable C6pos equal ${d6}
variable C6pos equal -7.86957326917701e-10

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C13 equal 0.5*(${C1neg}+${C1pos})
variable C13 equal 0.5*(-8.34494769841424e-05+${C1pos})
variable C13 equal 0.5*(-8.34494769841424e-05+8.34525937724991e-05)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C23 equal 0.5*(${C2neg}+${C2pos})
variable C23 equal 0.5*(-8.34484444104642e-05+${C2pos})
variable C23 equal 0.5*(-8.34484444104642e-05+8.34521937191053e-05)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C33 equal 0.5*(${C3neg}+${C3pos})
variable C33 equal 0.5*(-0.000118883783577874+${C3pos})
variable C33 equal 0.5*(-0.000118883783577874+0.000118887175550931)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C43 equal 0.5*(${C4neg}+${C4pos})
variable C43 equal 0.5*(1.0596704836827e-11+${C4pos})
variable C43 equal 0.5*(1.0596704836827e-11+3.46254793703438e-10)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C53 equal 0.5*(${C5neg}+${C5pos})
variable C53 equal 0.5*(-1.42163134706725e-09+${C5pos})
variable C53 equal 0.5*(-1.42163134706725e-09+1.04667154596615e-09)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C63 equal 0.5*(${C6neg}+${C6pos})
variable C63 equal 0.5*(7.01497942415611e-10+${C6pos})
variable C63 equal 0.5*(7.01497942415611e-10+-7.86957326917701e-10)

# Delete dir to make sure it is not reused

variable dir delete

# uyz Perturbation

variable dir equal 4
include /users/knc6/displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
variable len0 equal ${lz0}
variable len0 equal 30.636438098854
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
box tilt large
read_restart restart.equil
  triclinic box = (0.036617 0.036617 -0.195744) to (4.04503 4.04503 30.4407) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  12 atoms
include potential.mod
pair_style eam/alloy
pair_coeff * * /users/knc6/Software/LAMMPS/lammps-master/potentials/Al_zhou.eam.alloy  Al
Reading potential file /users/knc6/Software/LAMMPS/lammps-master/potentials/Al_zhou.eam.alloy with DATE: 2007-10-12
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes
min_style  cg
min_modify           dmax ${dmax} line quadratic
min_modify           dmax 0.01 line quadratic
thermo          1
thermo_style custom step temp press cpu pxx pyy pzz             pxy pxz pyz ke pe etotal vol lx ly lz atoms
thermo_modify norm no
# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*30.636438098854
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
change_box all yz delta ${delta} remap units box
change_box all yz delta -3.0636438098854e-05 remap units box
  triclinic box = (0.036617 0.036617 -0.195744) to (4.04503 4.04503 30.4407) with tilt (0 0 -3.06364e-05)
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 1000 ${maxeval}
minimize 0 1e-10 1000 10000
Neighbor list info ...
  1 neighbor list requests
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11.1025
  ghost atom cutoff = 11.1025
Memory usage per processor = 3.88955 Mbytes
Step Temp Press CPU Pxx Pyy Pzz Pxy Pxz Pyz KinEng PotEng TotEng Volume Lx Ly Lz Atoms 
      51            0 2.9176403e-07            0 1.5116652e-07 2.6152692e-07 4.6259865e-07 -1.0534006e-11 6.5587309e-12   0.13056608            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      52            0 -1.3174288e-07 0.00013685226 -1.6857008e-07 -9.3480264e-08 -1.3317829e-07 -6.4674979e-12 -1.5933316e-11  0.079790858            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      53            0 2.2610553e-07 0.00027489662 2.6552346e-07 2.9470648e-07 1.1808664e-07 -2.5524923e-12 1.604373e-11  0.045819357            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      54            0 -1.3874708e-06 0.00053095818 -1.2832795e-06 -1.2710811e-06 -1.6080517e-06 -3.4043585e-12 -6.1233985e-13  0.036893686            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      55            0 3.9781851e-06 0.00067782402 3.9111587e-06 3.9158186e-06 4.1075781e-06 -4.9534948e-12 2.0787558e-12  0.019480599            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      56            0 -1.0855298e-05 0.00093388557 -1.062056e-05 -1.0618725e-05 -1.1326609e-05 4.9169659e-12 9.916587e-13 0.0080390624            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      57            0 2.5596417e-05 0.0011949539  2.53592e-05 2.5360668e-05 2.6069383e-05 -1.3698397e-12 1.9986817e-12 0.0052642926            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      58            0 -0.00011218475 0.0013217926 -0.00011163347 -0.00011163233 -0.00011328844 1.6959719e-11 7.0174288e-12 0.0031259802            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      59            0 0.00016058281 0.0015618801 0.00016056493 0.00016056601 0.00016061749 2.6509165e-12 -1.9037191e-11 0.0025874312            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      60            0 -1.5199222e-05 0.0018019676 -1.5832858e-05 -1.5831789e-05 -1.3933018e-05 7.5012829e-12 -8.5942086e-12 0.0019392216            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      61            0 -8.4731806e-05 0.0020418167 -8.3494647e-05 -8.3493595e-05 -8.7207175e-05 -4.4412746e-13 -6.2487042e-12 0.00084803642            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      62            0 7.6639056e-05 0.0022819042 7.6595531e-05 7.6596571e-05 7.6725064e-05 -5.3555129e-12 3.9451317e-12 0.00062490919            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      63            0 5.176802e-05 0.0025408268 4.9880283e-05 4.9881314e-05 5.5542463e-05 3.2045447e-12 -1.0872018e-11 0.00036160275            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      64            0 -4.3331381e-05  0.002781868 -4.2162984e-05 -4.2161924e-05 -4.5669233e-05 6.9703834e-12 -1.5381213e-11 0.00027962846            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      65            0 -3.3555168e-05 0.0030219555 -3.1710189e-05 -3.1709136e-05 -3.724618e-05 1.110602e-11 -7.5252843e-12 0.00016950459            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      66            0 2.0784635e-05 0.0032608509 1.9924859e-05 1.9925918e-05 2.2503127e-05 1.3045344e-11 4.207074e-12 0.00012272225            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      67            0 -4.9306331e-06 0.0035009384 -5.019854e-06 -5.0188087e-06 -4.7532367e-06 -3.6742381e-12 7.1554143e-12 8.5746613e-05            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      68            0 -6.2463903e-06 0.0037407875 -5.7299849e-06 -5.728949e-06 -7.2802368e-06 1.3967792e-11 2.5763494e-12 6.0834853e-05            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      69            0 1.5756641e-06  0.003980875  1.59461e-06 1.5956721e-06 1.5367101e-06 -2.4043111e-12 -1.007352e-11 3.3255384e-05            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      70            0 -1.4554576e-06 0.0042209625 -1.4562118e-06 -1.4551603e-06 -1.4550006e-06 1.5385365e-11 3.2969136e-12 2.1944464e-05            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      71            0 -9.5953163e-09 0.0044598579 3.7639727e-08 3.8682041e-08 -1.0510772e-07 7.1651599e-12 -6.3700185e-12 1.2663717e-05            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      72            0 8.7387418e-07 0.0047090054 9.2302297e-07 9.2408587e-07 7.745137e-07 5.9647527e-12 9.451701e-12 9.4547217e-06            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      73            0 -8.2234719e-08 0.0049510002 -3.9161583e-08 -3.8107763e-08 -1.6943481e-07 1.4240655e-11 -5.0036608e-12 7.0027106e-06            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      74            0 7.4322687e-08 0.0051908493 1.1858915e-07 1.1963893e-07 -1.5260019e-08 8.9566015e-12 1.3203177e-11 4.1462865e-06            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      75            0 1.5796332e-07 0.0054409504 2.0304058e-07 2.0406774e-07 6.6781647e-08 -7.822368e-13 -1.1643332e-12 2.6511307e-06            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      76            0 1.5736806e-08 0.0058147907 6.0199498e-08 6.1228512e-08 -7.4217592e-08 7.8394147e-12 -1.2690871e-11 1.2008544e-06            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
Loop time of 0.0058248 on 1 procs for 25 steps with 12 atoms

68.7% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -41.2076577606     -41.2076577606     -41.2076577606
  Force two-norm initial, final = 3.94969e-06 9.36119e-11
  Force max component initial, final = 1.96779e-06 4.96357e-11
  Final line search alpha, max atom move = 1 4.96357e-11
  Iterations, force evaluations = 25 46

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.0050478  | 0.0050478  | 0.0050478  |   0.0 | 86.66
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00034833 | 0.00034833 | 0.00034833 |   0.0 |  5.98
Output  | 0.00030494 | 0.00030494 | 0.00030494 |   0.0 |  5.24
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.0001237  |            |       |  2.12

Nlocal:    12 ave 12 max 12 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1066 ave 1066 max 1066 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1428 ave 1428 max 1428 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1428
Ave neighs/atom = 119
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 6.01994983550558e-08
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 6.12285115073377e-08
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -7.42175922320374e-08
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 7.83941474756527e-12
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -1.26908714157337e-11
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 1.20085443736853e-06

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 1.44338251203488e-06
variable C2neg equal ${d2}
variable C2neg equal 1.44237813162519e-06
variable C3neg equal ${d3}
variable C3neg equal 2.81083057504706e-06
variable C4neg equal ${d4}
variable C4neg equal 0.000120084786589566
variable C5neg equal ${d5}
variable C5neg equal -1.57333535070305e-09
variable C6neg equal ${d6}
variable C6neg equal 1.02670181016389e-09

# Reset box and simulation parameters

clear
box tilt large
read_restart restart.equil
  triclinic box = (0.036617 0.036617 -0.195744) to (4.04503 4.04503 30.4407) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  12 atoms
include potential.mod
pair_style eam/alloy
pair_coeff * * /users/knc6/Software/LAMMPS/lammps-master/potentials/Al_zhou.eam.alloy  Al
Reading potential file /users/knc6/Software/LAMMPS/lammps-master/potentials/Al_zhou.eam.alloy with DATE: 2007-10-12
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes
min_style  cg
min_modify           dmax ${dmax} line quadratic
min_modify           dmax 0.01 line quadratic
thermo          1
thermo_style custom step temp press cpu pxx pyy pzz             pxy pxz pyz ke pe etotal vol lx ly lz atoms
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*30.636438098854
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
change_box all yz delta ${delta} remap units box
change_box all yz delta 3.0636438098854e-05 remap units box
  triclinic box = (0.036617 0.036617 -0.195744) to (4.04503 4.04503 30.4407) with tilt (0 0 3.06364e-05)
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 1000 ${maxeval}
minimize 0 1e-10 1000 10000
Neighbor list info ...
  1 neighbor list requests
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11.1025
  ghost atom cutoff = 11.1025
Memory usage per processor = 3.88955 Mbytes
Step Temp Press CPU Pxx Pyy Pzz Pxy Pxz Pyz KinEng PotEng TotEng Volume Lx Ly Lz Atoms 
      51            0 2.9174036e-07            0 1.511392e-07  2.61509e-07 4.6257287e-07 2.8473345e-12 3.9604896e-12  -0.13056608            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      52            0 -1.3177911e-07 0.00012993813 -1.6860589e-07 -9.3516823e-08 -1.3321461e-07 -1.4829897e-12 -3.393121e-12 -0.079790858            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      53            0 2.2623668e-07 0.00026297569 2.6564342e-07 2.9483767e-07 1.1822896e-07 2.5011962e-12 -4.5957253e-12 -0.045819357            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      54            0 -1.3877856e-06 0.00050878525 -1.283567e-06 -1.2713779e-06 -1.608412e-06 -2.7340554e-12 -5.6013932e-12 -0.036893686            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      55            0 3.9792026e-06 0.00064492226 3.9121383e-06 3.9167993e-06 4.1086702e-06 -1.7917472e-12 -1.9081654e-12 -0.019480599            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      56            0 -1.0858014e-05 0.00089097023 -1.0623199e-05 -1.0621375e-05 -1.1329469e-05 1.6553733e-11 -5.7380975e-12 -0.0080390623            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      57            0 2.5602287e-05 0.0011348724 2.5364987e-05 2.5366463e-05 2.6075412e-05 7.9957135e-12 -5.8540335e-12 -0.005264293            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      58            0 -0.00011220958 0.0012619495 -0.00011165811 -0.000111657 -0.00011331363 -3.2275909e-12 -2.0980358e-12 -0.0031259784            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      59            0 0.00016058937 0.0015039444 0.00016057148 0.00016057257 0.00016062405 5.4304918e-12 6.3770354e-12 -0.0025874549            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      60            0 -1.5179674e-05 0.0017468929 -1.5813511e-05 -1.5812427e-05 -1.3913083e-05 9.3444324e-12 2.4020881e-12 -0.0019391866            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      61            0 -8.4758323e-05 0.0019888878 -8.3520958e-05 -8.3519896e-05 -8.7234113e-05 -5.9136677e-12 -7.388488e-12 -0.00084809627            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      62            0 7.6602645e-05  0.002229929 7.6559671e-05 7.6560709e-05 7.6687556e-05 4.3696773e-13 -9.6084005e-12 -0.00062499036            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      63            0 5.1788653e-05 0.0024728775  4.99003e-05 4.9901358e-05 5.5564303e-05 -1.5319266e-12 1.8464398e-11 -0.00036165783            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      64            0 -4.3323951e-05 0.0027148724 -4.2156057e-05 -4.2155013e-05 -4.5660784e-05 -4.1411052e-12 -6.0846965e-12 -0.00027968853            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      65            0 -3.3570219e-05 0.0029568672 -3.172461e-05 -3.172356e-05 -3.7262488e-05 -6.0141252e-13 -2.0735004e-11 -0.00016953578            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      66            0 2.0791016e-05 0.0031988621 1.9931081e-05 1.993211e-05 2.2509859e-05 -6.7325999e-12 -8.9710536e-13 -0.00012273321            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      67            0 -4.9353119e-06 0.0034408569 -5.0245214e-06 -5.0234686e-06 -4.7579456e-06 8.571539e-12 -2.1828819e-11 -8.5761923e-05            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      68            0 -6.2495693e-06 0.0036818981 -5.7330191e-06 -5.7319594e-06 -7.2837294e-06 1.2956235e-11 -1.3146891e-11 -6.0851424e-05            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      69            0 1.5817124e-06 0.0039279461 1.6005653e-06 1.6016114e-06 1.5429605e-06 -1.0214098e-11 -1.7034948e-13 -3.3262021e-05            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      70            0 -1.4738691e-06 0.0041909218 -1.4744895e-06 -1.4734337e-06 -1.473684e-06 9.2056215e-12 -1.7036784e-11 -2.1928951e-05            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      71            0 -1.5986718e-08 0.0044488907 3.1250919e-08 3.2299103e-08 -1.1151018e-07 1.0211037e-11 6.8518886e-12 -1.2664267e-05            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      72            0 9.3814744e-07 0.0047318935 9.8726918e-07 9.8831198e-07 8.3886116e-07 1.1495941e-11 -3.9897676e-12 -9.366746e-06            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      73            0 -8.2221536e-08 0.0050048828 -3.9140253e-08 -3.809026e-08 -1.694341e-07 -1.9779976e-11 4.3933046e-12 -7.0051628e-06            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      74            0 9.5866339e-09 0.0052537918 5.3722175e-08 5.4766498e-08 -7.9728772e-08 -1.5170981e-12 -2.3367256e-12 -4.0624621e-06            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      75            0 2.1891325e-07 0.0054979324 2.6417699e-07 2.652339e-07 1.2732885e-07 1.2025396e-11 1.8767181e-12 -2.5453986e-06            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      76            0 2.5272567e-08 0.0058419704 6.9769431e-08 7.0815421e-08 -6.4767152e-08 8.1045732e-12 7.6556916e-13 -1.215723e-06            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
Loop time of 0.00585198 on 1 procs for 25 steps with 12 atoms

68.4% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -41.2076577606     -41.2076577606     -41.2076577606
  Force two-norm initial, final = 3.94969e-06 9.64173e-11
  Force max component initial, final = 1.96779e-06 4.29155e-11
  Final line search alpha, max atom move = 1 4.29155e-11
  Iterations, force evaluations = 25 46

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.0050604  | 0.0050604  | 0.0050604  |   0.0 | 86.47
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00035453 | 0.00035453 | 0.00035453 |   0.0 |  6.06
Output  | 0.00031757 | 0.00031757 | 0.00031757 |   0.0 |  5.43
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.0001194  |            |       |  2.04

Nlocal:    12 ave 12 max 12 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1066 ave 1066 max 1066 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1428 ave 1428 max 1428 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1428
Ave neighs/atom = 119
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -41.2076577606259
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal 2.52725667388857e-08
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 6.97694311348861e-08
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 7.08154213415552e-08
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -6.47671522597843e-08
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 8.10457323840088e-12
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 7.6556915630671e-13
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -1.21572297558456e-06

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal -2.40037579001791e-06
variable C2pos equal ${d2}
variable C2pos equal -2.40106911504694e-06
variable C3pos equal ${d3}
variable C3pos equal -3.75587457227237e-06
variable C4pos equal ${d4}
variable C4pos equal 0.000121572954705743
variable C5pos equal ${d5}
variable C5pos equal 2.27691293499006e-10
variable C6pos equal ${d6}
variable C6pos equal -1.05321765924745e-09

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C14 equal 0.5*(${C1neg}+${C1pos})
variable C14 equal 0.5*(1.44338251203488e-06+${C1pos})
variable C14 equal 0.5*(1.44338251203488e-06+-2.40037579001791e-06)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C24 equal 0.5*(${C2neg}+${C2pos})
variable C24 equal 0.5*(1.44237813162519e-06+${C2pos})
variable C24 equal 0.5*(1.44237813162519e-06+-2.40106911504694e-06)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C34 equal 0.5*(${C3neg}+${C3pos})
variable C34 equal 0.5*(2.81083057504706e-06+${C3pos})
variable C34 equal 0.5*(2.81083057504706e-06+-3.75587457227237e-06)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C44 equal 0.5*(${C4neg}+${C4pos})
variable C44 equal 0.5*(0.000120084786589566+${C4pos})
variable C44 equal 0.5*(0.000120084786589566+0.000121572954705743)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C54 equal 0.5*(${C5neg}+${C5pos})
variable C54 equal 0.5*(-1.57333535070305e-09+${C5pos})
variable C54 equal 0.5*(-1.57333535070305e-09+2.27691293499006e-10)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C64 equal 0.5*(${C6neg}+${C6pos})
variable C64 equal 0.5*(1.02670181016389e-09+${C6pos})
variable C64 equal 0.5*(1.02670181016389e-09+-1.05321765924745e-09)

# Delete dir to make sure it is not reused

variable dir delete

# uxz Perturbation

variable dir equal 5
include /users/knc6/displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
variable len0 equal ${lz0}
variable len0 equal 30.636438098854
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
box tilt large
read_restart restart.equil
  triclinic box = (0.036617 0.036617 -0.195744) to (4.04503 4.04503 30.4407) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  12 atoms
include potential.mod
pair_style eam/alloy
pair_coeff * * /users/knc6/Software/LAMMPS/lammps-master/potentials/Al_zhou.eam.alloy  Al
Reading potential file /users/knc6/Software/LAMMPS/lammps-master/potentials/Al_zhou.eam.alloy with DATE: 2007-10-12
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes
min_style  cg
min_modify           dmax ${dmax} line quadratic
min_modify           dmax 0.01 line quadratic
thermo          1
thermo_style custom step temp press cpu pxx pyy pzz             pxy pxz pyz ke pe etotal vol lx ly lz atoms
thermo_modify norm no
# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*30.636438098854
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
change_box all xz delta ${delta} remap units box
change_box all xz delta -3.0636438098854e-05 remap units box
  triclinic box = (0.036617 0.036617 -0.195744) to (4.04503 4.04503 30.4407) with tilt (0 -3.06364e-05 0)
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 1000 ${maxeval}
minimize 0 1e-10 1000 10000
Neighbor list info ...
  1 neighbor list requests
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11.1025
  ghost atom cutoff = 11.1025
Memory usage per processor = 3.88955 Mbytes
Step Temp Press CPU Pxx Pyy Pzz Pxy Pxz Pyz KinEng PotEng TotEng Volume Lx Ly Lz Atoms 
      51            0 2.9173365e-07            0 2.6048765e-07 1.521486e-07 4.625647e-07 -1.3829147e-12   0.13056608 -1.6620874e-11            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      52            0 -1.3170156e-07 0.0001168251 -9.4506518e-08 -1.6748265e-07 -1.3311552e-07 3.6901127e-12  0.079790858 1.2253613e-11            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      53            0 2.260422e-07 0.00023794174 2.9360151e-07 2.6649868e-07 1.1802642e-07 2.1625305e-12  0.045819357 1.4542677e-11            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      54            0 -1.3871435e-06 0.00045990944 -1.2717929e-06 -1.2819075e-06 -1.6077301e-06 7.0133843e-12  0.036893686 7.6171986e-12            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      55            0 3.9768041e-06 0.00057482719 3.9134146e-06 3.9108148e-06 4.106183e-06 -6.4490732e-12  0.019480599 -1.2780442e-12            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      56            0 -1.0850156e-05 0.00079393387 -1.0614622e-05 -1.0614365e-05 -1.132148e-05 -1.8796949e-12 0.0080390624 7.1455564e-12            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      57            0 2.5581992e-05 0.0010118484 2.5345185e-05 2.5345815e-05 2.6054975e-05 9.4472563e-13  0.005264291 -4.8709096e-12            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      58            0 -0.00011211239 0.0011348724 -0.00011156087 -0.00011155992 -0.00011321639 1.0851126e-12 0.0031259863 4.609604e-12            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      59            0 0.00016057081 0.0013549328 0.00016055244 0.00016055345 0.00016060653 3.3367761e-12 0.0025873456 5.8400681e-13            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      60            0 -1.5257721e-05 0.0015728474 -1.5891217e-05 -1.5890204e-05 -1.3991743e-05 2.5647295e-12 0.0019393476 -1.1822839e-11            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      61            0 -8.4665082e-05 0.0017910004 -8.3427352e-05 -8.342634e-05 -8.7141554e-05 1.0084191e-11 0.00084782082 1.9230411e-13            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      62            0 7.6778429e-05 0.0020298958 7.673262e-05 7.6733671e-05 7.6868995e-05 1.7083657e-11 0.00062461542 5.7947783e-12            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      63            0 5.1733991e-05 0.0022478104 4.984657e-05 4.9847614e-05 5.5507788e-05 -1.0336675e-13 0.00036140545 -1.5216758e-12            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      64            0 -4.3380622e-05 0.0024797916 -4.2209324e-05 -4.2208296e-05 -4.5724247e-05 -5.4562188e-12 0.00027941406 -1.1528196e-11            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      65            0 -3.3516416e-05 0.0026988983 -3.1672741e-05 -3.1671703e-05 -3.7204805e-05 4.9025128e-13 0.00016941594 -3.9896069e-12            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      66            0 2.075995e-05 0.0029168129 1.9900898e-05 1.990195e-05 2.2477002e-05 4.1706847e-12 0.00012268428 -1.1135246e-13            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      67            0 -4.9611789e-06 0.0031340122 -5.0488883e-06 -5.0478419e-06 -4.7868066e-06 -1.1668421e-11 8.5675045e-05 -5.5329128e-13            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      68            0 -6.2188598e-06 0.0033519268 -5.7035579e-06 -5.7025302e-06 -7.2504915e-06 1.0660434e-14 6.0777139e-05 2.9071546e-12            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      69            0 1.5799461e-06 0.0035698414  1.59869e-06 1.5997233e-06 1.5414251e-06 -3.7299715e-13 3.3219803e-05 3.3423516e-14            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      70            0 -1.4827592e-06 0.0037879944 -1.4831067e-06 -1.4820732e-06 -1.4830977e-06 9.310478e-13 2.1864147e-05 6.7943865e-12            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      71            0 -1.7876001e-08 0.0040068626 2.9385639e-08 3.0430037e-08 -1.1344368e-07 1.7565026e-11 1.2650087e-05 9.3346168e-12            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      72            0 9.706785e-07 0.0042250156 1.0196917e-06 1.0207342e-06 8.7160959e-07 -2.8363485e-12 9.298026e-06 -6.8593565e-12            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      73            0 -7.6299249e-08 0.0044429302 -3.3196288e-08 -3.2167639e-08 -1.6353382e-07 5.8920386e-12 6.9968656e-06 -1.0332552e-11            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      74            0 -3.8221461e-08  0.004668951 5.9025116e-09 6.9431568e-09 -1.2751005e-07 1.1115799e-11 3.9419928e-06 -6.2286684e-12            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      75            0 2.9385134e-07 0.0048878193 3.3932241e-07 3.4035843e-07 2.018732e-07 4.3446885e-12 2.3901529e-06 8.8631676e-13            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      76            0 6.4639887e-08 0.0052149296 1.0925031e-07 1.1027347e-07 -2.560412e-08 9.5675829e-12 1.1732423e-06 -1.1571477e-12            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
Loop time of 0.00522399 on 1 procs for 25 steps with 12 atoms

153.1% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -41.2076577606     -41.2076577606     -41.2076577606
  Force two-norm initial, final = 3.94969e-06 7.88187e-11
  Force max component initial, final = 1.96779e-06 5.00663e-11
  Final line search alpha, max atom move = 1 5.00663e-11
  Iterations, force evaluations = 25 46

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.0045204  | 0.0045204  | 0.0045204  |   0.0 | 86.53
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0003407  | 0.0003407  | 0.0003407  |   0.0 |  6.52
Output  | 0.00026345 | 0.00026345 | 0.00026345 |   0.0 |  5.04
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 9.942e-05  |            |       |  1.90

Nlocal:    12 ave 12 max 12 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1066 ave 1066 max 1066 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1428 ave 1428 max 1428 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1428
Ave neighs/atom = 119
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 1.0925031497078e-07
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 1.10273465331201e-07
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -2.56041202730075e-08
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 9.56758289565706e-12
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 1.1732423223579e-06
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -1.15714767788229e-12

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 6.3484641736073e-06
variable C2neg equal ${d2}
variable C2neg equal 6.34687351401152e-06
variable C3neg equal ${d3}
variable C3neg equal 7.67217777095005e-06
variable C4neg equal ${d4}
variable C4neg equal -7.7286205462237e-10
variable C5neg equal ${d5}
variable C5neg equal 0.000117323927987581
variable C6neg equal ${d6}
variable C6neg equal 1.19951862497307e-09

# Reset box and simulation parameters

clear
box tilt large
read_restart restart.equil
  triclinic box = (0.036617 0.036617 -0.195744) to (4.04503 4.04503 30.4407) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  12 atoms
include potential.mod
pair_style eam/alloy
pair_coeff * * /users/knc6/Software/LAMMPS/lammps-master/potentials/Al_zhou.eam.alloy  Al
Reading potential file /users/knc6/Software/LAMMPS/lammps-master/potentials/Al_zhou.eam.alloy with DATE: 2007-10-12
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes
min_style  cg
min_modify           dmax ${dmax} line quadratic
min_modify           dmax 0.01 line quadratic
thermo          1
thermo_style custom step temp press cpu pxx pyy pzz             pxy pxz pyz ke pe etotal vol lx ly lz atoms
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*30.636438098854
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
change_box all xz delta ${delta} remap units box
change_box all xz delta 3.0636438098854e-05 remap units box
  triclinic box = (0.036617 0.036617 -0.195744) to (4.04503 4.04503 30.4407) with tilt (0 3.06364e-05 0)
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 1000 ${maxeval}
minimize 0 1e-10 1000 10000
Neighbor list info ...
  1 neighbor list requests
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11.1025
  ghost atom cutoff = 11.1025
Memory usage per processor = 3.88955 Mbytes
Step Temp Press CPU Pxx Pyy Pzz Pxy Pxz Pyz KinEng PotEng TotEng Volume Lx Ly Lz Atoms 
      51            0 2.9172978e-07            0 2.6046851e-07 1.5213831e-07 4.6258253e-07 9.8471326e-13  -0.13056608 -1.6615721e-11            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      52            0 -1.3171081e-07 0.00011396408 -9.4495804e-08 -1.674999e-07 -1.3313674e-07 -5.4674397e-12 -0.079790858 7.7196859e-12            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      53            0 2.260394e-07 0.00022912025 2.9359619e-07 2.6649383e-07 1.1802817e-07 -3.5162108e-12 -0.045819357 7.6177349e-12            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      54            0 -1.387201e-06 0.00044202805 -1.271849e-06 -1.2819738e-06 -1.6077801e-06 1.033911e-11 -0.036893686 1.1612959e-11            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      55            0 3.9771309e-06 0.00055408478 3.9137436e-06 3.911161e-06 4.106488e-06 6.1484167e-13 -0.019480599 -4.7794342e-13            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      56            0 -1.0851886e-05 0.00076389313 -1.0616379e-05 -1.0616148e-05 -1.1323131e-05 -6.244775e-13 -0.0080390623 9.1609265e-12            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      57            0 2.5587709e-05 0.00097489357 2.5350974e-05 2.5351579e-05 2.6060576e-05 -4.047123e-13 -0.0052642917 -3.653187e-12            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      58            0 -0.00011214378  0.001085043 -0.00011159244 -0.00011159149 -0.00011324742 -9.2692265e-13 -0.0031259835 7.3041802e-12            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      59            0 0.00016057516 0.0012938976 0.00016055714 0.00016055811 0.00016061025 2.4876567e-12 -0.0025873854 1.3705489e-12            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      60            0 -1.5232427e-05 0.0015039444 -1.5865875e-05 -1.5864894e-05 -1.3966513e-05 -9.132669e-12 -0.0019392892  1.18504e-12            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      61            0 -8.4692052e-05 0.0017130375 -8.3454761e-05 -8.3453746e-05 -8.7167649e-05 1.8552171e-11 -0.00084792073 1.1770717e-11            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      62            0 7.6712911e-05 0.0019218922 7.6668218e-05 7.6669239e-05 7.6801275e-05 1.7661709e-11 -0.00062475183 2.2630745e-12            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      63            0 5.1744049e-05 0.0021319389 4.9856745e-05 4.9857782e-05 5.5517622e-05 -6.9326502e-12 -0.00036149672 -2.7633358e-12            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      64            0 -4.3355222e-05  0.002341032 -4.2185387e-05 -4.218435e-05 -4.5695928e-05 -3.3688731e-12 -0.00027951272 5.2490688e-12            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      65            0 -3.353231e-05 0.0025501251 -3.1688172e-05 -3.1687137e-05 -3.722162e-05 3.2522282e-12 -0.00016945361 3.2071986e-12            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      66            0 2.0772018e-05 0.0027599335 1.9912595e-05 1.9913652e-05 2.2489806e-05 8.5097951e-12 -0.00012270156 6.3289865e-12            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      67            0 -4.9420665e-06 0.0029690266 -5.030632e-06 -5.0295824e-06 -4.765985e-06 1.1236365e-11 -8.5710058e-05 3.6131603e-12            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      68            0 -6.2334812e-06 0.0031781197 -5.7176143e-06 -5.7165581e-06 -7.2662712e-06 -1.715754e-12 -6.0803786e-05 -1.2705389e-12            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      69            0 1.5751956e-06 0.0034120083 1.5941102e-06 1.5951532e-06 1.5363235e-06 5.7163022e-12 -3.3237699e-05 5.3108201e-12            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      70            0 -1.460243e-06 0.0036139488 -1.4608968e-06 -1.4598464e-06 -1.4599858e-06 1.6747868e-13 -2.1915581e-05 -1.9608923e-11            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      71            0 -1.0490339e-08 0.0038149357 3.6738387e-08 3.778848e-08 -1.0599789e-07 -4.2878916e-12 -1.2657899e-05 -1.4686297e-11            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      72            0 8.8745714e-07 0.0040171146 9.3660758e-07 9.3764271e-07 7.8812114e-07 5.8950103e-12 -9.4275843e-06 -5.6657122e-13            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      73            0 -8.1714294e-08 0.0042409897 -3.8620977e-08 -3.7595816e-08 -1.6892609e-07 5.3412254e-13 -6.9993329e-06 6.6435422e-13            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      74            0 6.0204749e-08 0.0044429302 1.0445412e-07 1.0549366e-07 -2.9333534e-08 7.4879969e-12 -4.118629e-06 5.0856648e-12            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      75            0 1.6789188e-07 0.0046451092 2.1300911e-07 2.1403313e-07 7.6633404e-08 -2.6654187e-12 -2.6284547e-06 1.0224723e-11            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      76            0 1.8849753e-08 0.0049419403 6.3311653e-08 6.4355107e-08 -7.1117502e-08 8.6308084e-12 -1.2001273e-06 1.0585407e-11            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
Loop time of 0.004951 on 1 procs for 25 steps with 12 atoms

80.8% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -41.2076577606     -41.2076577606     -41.2076577606
  Force two-norm initial, final = 3.94969e-06 9.31012e-11
  Force max component initial, final = 1.96779e-06 4.8999e-11
  Final line search alpha, max atom move = 1 4.8999e-11
  Iterations, force evaluations = 25 46

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.0042956  | 0.0042956  | 0.0042956  |   0.0 | 86.76
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00030422 | 0.00030422 | 0.00030422 |   0.0 |  6.14
Output  | 0.00025392 | 0.00025392 | 0.00025392 |   0.0 |  5.13
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 9.727e-05  |            |       |  1.96

Nlocal:    12 ave 12 max 12 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1066 ave 1066 max 1066 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1428 ave 1428 max 1428 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1428
Ave neighs/atom = 119
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -41.2076577606258
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal 1.88497527093629e-08
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 6.33116530634136e-08
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 6.43551074944268e-08
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -7.11175024297517e-08
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 8.6308083741812e-12
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -1.20012726096391e-06
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 1.05854069942455e-11

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal -1.75459798287066e-06
variable C2pos equal ${d2}
variable C2pos equal -1.7550377303341e-06
variable C3pos equal ${d3}
variable C3pos equal -3.12083955527563e-06
variable C4pos equal ${d4}
variable C4pos equal -4.01393412590409e-10
variable C5pos equal ${d5}
variable C5pos equal 0.0001200130303446
variable C6pos equal ${d6}
variable C6pos equal -1.10584117282548e-09

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C15 equal 0.5*(${C1neg}+${C1pos})
variable C15 equal 0.5*(6.3484641736073e-06+${C1pos})
variable C15 equal 0.5*(6.3484641736073e-06+-1.75459798287066e-06)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C25 equal 0.5*(${C2neg}+${C2pos})
variable C25 equal 0.5*(6.34687351401152e-06+${C2pos})
variable C25 equal 0.5*(6.34687351401152e-06+-1.7550377303341e-06)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C35 equal 0.5*(${C3neg}+${C3pos})
variable C35 equal 0.5*(7.67217777095005e-06+${C3pos})
variable C35 equal 0.5*(7.67217777095005e-06+-3.12083955527563e-06)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C45 equal 0.5*(${C4neg}+${C4pos})
variable C45 equal 0.5*(-7.7286205462237e-10+${C4pos})
variable C45 equal 0.5*(-7.7286205462237e-10+-4.01393412590409e-10)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C55 equal 0.5*(${C5neg}+${C5pos})
variable C55 equal 0.5*(0.000117323927987581+${C5pos})
variable C55 equal 0.5*(0.000117323927987581+0.0001200130303446)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C65 equal 0.5*(${C6neg}+${C6pos})
variable C65 equal 0.5*(1.19951862497307e-09+${C6pos})
variable C65 equal 0.5*(1.19951862497307e-09+-1.10584117282548e-09)

# Delete dir to make sure it is not reused

variable dir delete

# uxy Perturbation

variable dir equal 6
include /users/knc6/displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"
variable len0 equal ${ly0}
variable len0 equal 4.00841595339632

# Reset box and simulation parameters

clear
box tilt large
read_restart restart.equil
  triclinic box = (0.036617 0.036617 -0.195744) to (4.04503 4.04503 30.4407) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  12 atoms
include potential.mod
pair_style eam/alloy
pair_coeff * * /users/knc6/Software/LAMMPS/lammps-master/potentials/Al_zhou.eam.alloy  Al
Reading potential file /users/knc6/Software/LAMMPS/lammps-master/potentials/Al_zhou.eam.alloy with DATE: 2007-10-12
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes
min_style  cg
min_modify           dmax ${dmax} line quadratic
min_modify           dmax 0.01 line quadratic
thermo          1
thermo_style custom step temp press cpu pxx pyy pzz             pxy pxz pyz ke pe etotal vol lx ly lz atoms
thermo_modify norm no
# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*4.00841595339632
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"
change_box all xy delta ${delta} remap units box
change_box all xy delta -4.00841595339632e-06 remap units box
  triclinic box = (0.036617 0.036617 -0.195744) to (4.04503 4.04503 30.4407) with tilt (-4.00842e-06 0 0)

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 1000 ${maxeval}
minimize 0 1e-10 1000 10000
Neighbor list info ...
  1 neighbor list requests
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11.1025
  ghost atom cutoff = 11.1025
Memory usage per processor = 3.88955 Mbytes
Step Temp Press CPU Pxx Pyy Pzz Pxy Pxz Pyz KinEng PotEng TotEng Volume Lx Ly Lz Atoms 
      51            0 2.1467532e-07            0 1.7972446e-07 4.3848576e-07 2.5815757e-08   0.16799105 1.7757826e-11 -1.4459629e-11            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      52            0 2.1440634e-07 0.00029206276 1.7990226e-07 4.3867468e-07 2.4642074e-08   0.16799105 -1.0653702e-11 -4.1221789e-12            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
Loop time of 0.000301123 on 1 procs for 1 steps with 12 atoms

0.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -41.2076577606     -41.2076577606     -41.2076577606
  Force two-norm initial, final = 1.17989e-12 7.70916e-13
  Force max component initial, final = 4.51715e-13 3.12212e-13
  Final line search alpha, max atom move = 1 3.12212e-13
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.00026393 | 0.00026393 | 0.00026393 |   0.0 | 87.65
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 1.9073e-05 | 1.9073e-05 | 1.9073e-05 |   0.0 |  6.33
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 1.812e-05  |            |       |  6.02

Nlocal:    12 ave 12 max 12 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1066 ave 1066 max 1066 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1428 ave 1428 max 1428 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1428
Ave neighs/atom = 119
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 1.79902263620825e-07
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 4.38674682614293e-07
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 2.46420744319741e-08
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 0.167991047548174
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -1.06537018345742e-11
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -4.12217885445642e-12

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 1.34136590386118e-05
variable C2neg equal ${d2}
variable C2neg equal 3.91869952423207e-05
variable C3neg equal ${d3}
variable C3neg equal 1.26967972414482e-05
variable C4neg equal ${d4}
variable C4neg equal -1.06936517227978e-09
variable C5neg equal ${d5}
variable C5neg equal -1.3696183925871e-09
variable C6neg equal ${d6}
variable C6neg equal 16.7991047550602

# Reset box and simulation parameters

clear
box tilt large
read_restart restart.equil
  triclinic box = (0.036617 0.036617 -0.195744) to (4.04503 4.04503 30.4407) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  12 atoms
include potential.mod
pair_style eam/alloy
pair_coeff * * /users/knc6/Software/LAMMPS/lammps-master/potentials/Al_zhou.eam.alloy  Al
Reading potential file /users/knc6/Software/LAMMPS/lammps-master/potentials/Al_zhou.eam.alloy with DATE: 2007-10-12
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes
min_style  cg
min_modify           dmax ${dmax} line quadratic
min_modify           dmax 0.01 line quadratic
thermo          1
thermo_style custom step temp press cpu pxx pyy pzz             pxy pxz pyz ke pe etotal vol lx ly lz atoms
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*4.00841595339632
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"
change_box all xy delta ${delta} remap units box
change_box all xy delta 4.00841595339632e-06 remap units box
  triclinic box = (0.036617 0.036617 -0.195744) to (4.04503 4.04503 30.4407) with tilt (4.00842e-06 0 0)

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 1000 ${maxeval}
minimize 0 1e-10 1000 10000
Neighbor list info ...
  1 neighbor list requests
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11.1025
  ghost atom cutoff = 11.1025
Memory usage per processor = 3.88955 Mbytes
Step Temp Press CPU Pxx Pyy Pzz Pxy Pxz Pyz KinEng PotEng TotEng Volume Lx Ly Lz Atoms 
      51            0 2.1467856e-07            0 1.7973879e-07 4.3846978e-07 2.582712e-08  -0.16799105 2.597799e-12 -1.2009107e-11            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
      52            0 2.143658e-07 0.00028514862 1.7986117e-07 4.3863266e-07 2.4603564e-08  -0.16799105 -7.9280343e-12 2.3012739e-12            0   -41.207658   -41.207658    492.24786     4.008416     4.008416    30.636438       12 
Loop time of 0.000294209 on 1 procs for 1 steps with 12 atoms

0.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -41.2076577606     -41.2076577606     -41.2076577606
  Force two-norm initial, final = 1.17894e-12 7.69778e-13
  Force max component initial, final = 4.51451e-13 3.11586e-13
  Final line search alpha, max atom move = 1 3.11586e-13
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.00025821 | 0.00025821 | 0.00025821 |   0.0 | 87.76
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 1.8597e-05 | 1.8597e-05 | 1.8597e-05 |   0.0 |  6.32
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 1.74e-05   |            |       |  5.92

Nlocal:    12 ave 12 max 12 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1066 ave 1066 max 1066 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1428 ave 1428 max 1428 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1428
Ave neighs/atom = 119
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -41.2076577606002
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal 2.14365797660084e-07
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 1.79861171188617e-07
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 4.38632657757516e-07
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 2.46035640341181e-08
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -0.167991047544263
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -7.92803428789141e-12
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 2.30127389930224e-12

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal -1.3409549795391e-05
variable C2pos equal ${d2}
variable C2pos equal -3.9182792756643e-05
variable C3pos equal ${d3}
variable C3pos equal -1.26929462016626e-05
variable C4pos equal ${d4}
variable C4pos equal 4.27019896903917e-10
variable C5pos equal ${d5}
variable C5pos equal 1.09705163791882e-09
variable C6pos equal ${d6}
variable C6pos equal 16.7991047541835

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C16 equal 0.5*(${C1neg}+${C1pos})
variable C16 equal 0.5*(1.34136590386118e-05+${C1pos})
variable C16 equal 0.5*(1.34136590386118e-05+-1.3409549795391e-05)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C26 equal 0.5*(${C2neg}+${C2pos})
variable C26 equal 0.5*(3.91869952423207e-05+${C2pos})
variable C26 equal 0.5*(3.91869952423207e-05+-3.9182792756643e-05)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C36 equal 0.5*(${C3neg}+${C3pos})
variable C36 equal 0.5*(1.26967972414482e-05+${C3pos})
variable C36 equal 0.5*(1.26967972414482e-05+-1.26929462016626e-05)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C46 equal 0.5*(${C4neg}+${C4pos})
variable C46 equal 0.5*(-1.06936517227978e-09+${C4pos})
variable C46 equal 0.5*(-1.06936517227978e-09+4.27019896903917e-10)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C56 equal 0.5*(${C5neg}+${C5pos})
variable C56 equal 0.5*(-1.3696183925871e-09+${C5pos})
variable C56 equal 0.5*(-1.3696183925871e-09+1.09705163791882e-09)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C66 equal 0.5*(${C6neg}+${C6pos})
variable C66 equal 0.5*(16.7991047550602+${C6pos})
variable C66 equal 0.5*(16.7991047550602+16.7991047541835)

# Delete dir to make sure it is not reused

variable dir delete

# Output final values

variable C11all equal ${C11}
variable C11all equal 30.8724934691224
variable C22all equal ${C22}
variable C22all equal 30.8724934676024
variable C33all equal ${C33}
variable C33all equal 1.69598652850279e-09

variable C12all equal 0.5*(${C12}+${C21})
variable C12all equal 0.5*(15.2232837429552+${C21})
variable C12all equal 0.5*(15.2232837429552+15.2232837450821)
variable C13all equal 0.5*(${C13}+${C31})
variable C13all equal 0.5*(1.55839417835101e-09+${C31})
variable C13all equal 0.5*(1.55839417835101e-09+-9.42668568150364e-10)
variable C23all equal 0.5*(${C23}+${C32})
variable C23all equal 0.5*(1.87465432055083e-09+${C32})
variable C23all equal 0.5*(1.87465432055083e-09+-7.38842601601683e-10)

variable C44all equal ${C44}
variable C44all equal 0.000120828870647654
variable C55all equal ${C55}
variable C55all equal 0.000118668479166091
variable C66all equal ${C66}
variable C66all equal 16.7991047546219

variable C14all equal 0.5*(${C14}+${C41})
variable C14all equal 0.5*(-4.78496638991515e-07+${C41})
variable C14all equal 0.5*(-4.78496638991515e-07+7.37794430361576e-10)
variable C15all equal 0.5*(${C15}+${C51})
variable C15all equal 0.5*(2.29693309536832e-06+${C51})
variable C15all equal 0.5*(2.29693309536832e-06+3.05331491315616e-10)
variable C16all equal 0.5*(${C16}+${C61})
variable C16all equal 0.5*(2.05462161039987e-09+${C61})
variable C16all equal 0.5*(2.05462161039987e-09+-5.97759222929782e-10)

variable C24all equal 0.5*(${C24}+${C42})
variable C24all equal 0.5*(-4.79345491710875e-07+${C42})
variable C24all equal 0.5*(-4.79345491710875e-07+-2.82886519602065e-10)
variable C25all equal 0.5*(${C25}+${C52})
variable C25all equal 0.5*(2.29591789183871e-06+${C52})
variable C25all equal 0.5*(2.29591789183871e-06+-8.73308294479044e-10)
variable C26all equal 0.5*(${C26}+${C62})
variable C26all equal 0.5*(2.10124283885104e-09+${C62})
variable C26all equal 0.5*(2.10124283885104e-09+1.47384923496447e-10)

variable C34all equal 0.5*(${C34}+${C43})
variable C34all equal 0.5*(-4.72521998612655e-07+${C43})
variable C34all equal 0.5*(-4.72521998612655e-07+1.78425749270132e-10)
variable C35all equal 0.5*(${C35}+${C53})
variable C35all equal 0.5*(2.27566910783721e-06+${C53})
variable C35all equal 0.5*(2.27566910783721e-06+-1.8747990055055e-10)
variable C36all equal 0.5*(${C36}+${C63})
variable C36all equal 0.5*(1.92551989280054e-09+${C63})
variable C36all equal 0.5*(1.92551989280054e-09+-4.2729692251045e-11)

variable C45all equal 0.5*(${C45}+${C54})
variable C45all equal 0.5*(-5.8712773360639e-10+${C54})
variable C45all equal 0.5*(-5.8712773360639e-10+-6.72822028602022e-10)
variable C46all equal 0.5*(${C46}+${C64})
variable C46all equal 0.5*(-3.21172637687932e-10+${C64})
variable C46all equal 0.5*(-3.21172637687932e-10+-1.325792454178e-11)
variable C56all equal 0.5*(${C56}+${C65})
variable C56all equal 0.5*(-1.3628337733414e-10+${C65})
variable C56all equal 0.5*(-1.3628337733414e-10+4.6838726073795e-11)

# For Stillinger-Weber silicon, the analytical results
# are known to be (E. R. Cowley, 1988):
#               C11 = 151.4 GPa
#               C12 = 76.4 GPa
#               C44 = 56.4 GPa

print "Elastic Constant C11all = ${C11all} ${cunits}"
Elastic Constant C11all = 30.8724934691224 GPa
print "Elastic Constant C22all = ${C22all} ${cunits}"
Elastic Constant C22all = 30.8724934676024 GPa
print "Elastic Constant C33all = ${C33all} ${cunits}"
Elastic Constant C33all = 1.69598652850279e-09 GPa

print "Elastic Constant C12all = ${C12all} ${cunits}"
Elastic Constant C12all = 15.2232837440186 GPa
print "Elastic Constant C13all = ${C13all} ${cunits}"
Elastic Constant C13all = 3.07862805100323e-10 GPa
print "Elastic Constant C23all = ${C23all} ${cunits}"
Elastic Constant C23all = 5.67905859474574e-10 GPa

print "Elastic Constant C44all = ${C44all} ${cunits}"
Elastic Constant C44all = 0.000120828870647654 GPa
print "Elastic Constant C55all = ${C55all} ${cunits}"
Elastic Constant C55all = 0.000118668479166091 GPa
print "Elastic Constant C66all = ${C66all} ${cunits}"
Elastic Constant C66all = 16.7991047546219 GPa

print "Elastic Constant C14all = ${C14all} ${cunits}"
Elastic Constant C14all = -2.38879422280577e-07 GPa
print "Elastic Constant C15all = ${C15all} ${cunits}"
Elastic Constant C15all = 1.14861921342982e-06 GPa
print "Elastic Constant C16all = ${C16all} ${cunits}"
Elastic Constant C16all = 7.28431193735044e-10 GPa

print "Elastic Constant C24all = ${C24all} ${cunits}"
Elastic Constant C24all = -2.39814189115239e-07 GPa
print "Elastic Constant C25all = ${C25all} ${cunits}"
Elastic Constant C25all = 1.14752229177212e-06 GPa
print "Elastic Constant C26all = ${C26all} ${cunits}"
Elastic Constant C26all = 1.12431388117374e-09 GPa

print "Elastic Constant C34all = ${C34all} ${cunits}"
Elastic Constant C34all = -2.36171786431692e-07 GPa
print "Elastic Constant C35all = ${C35all} ${cunits}"
Elastic Constant C35all = 1.13774081396833e-06 GPa
print "Elastic Constant C36all = ${C36all} ${cunits}"
Elastic Constant C36all = 9.41395100274747e-10 GPa

print "Elastic Constant C45all = ${C45all} ${cunits}"
Elastic Constant C45all = -6.29974881104206e-10 GPa
print "Elastic Constant C46all = ${C46all} ${cunits}"
Elastic Constant C46all = -1.67215281114856e-10 GPa
print "Elastic Constant C56all = ${C56all} ${cunits}"
Elastic Constant C56all = -4.47223256301725e-11 GPa

Total wall time: 0:00:00
